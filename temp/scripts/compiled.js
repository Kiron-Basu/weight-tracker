!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);new class{constructor(){let e={weight:String,date:String},t=[];const n=document.querySelector(".increment-btn"),r=document.querySelector(".decrement-btn"),o=document.querySelector(".weight-input"),a=document.querySelector(".clear-btn"),l=document.querySelector(".submit-btn"),i=document.getElementById("day-count"),c=document.querySelector(".plural"),u=document.querySelector(".difference");let s,d,g,f,m;function v(e){13===e.keyCode&&S()}n.addEventListener("click",function(){o.value=parseInt(o.value)+1}),n.addEventListener("keyup",v),r.addEventListener("click",function(){o.value=parseInt(o.value)-1}),r.addEventListener("keyup",v),a.addEventListener("click",function(){confirm("Are you sure you want to clear all previously stored data")&&function(){o.value=0,i.innerHTML=0;let e=document.querySelectorAll(".graph__single-bar"),t=Array.from(e);t&&(p(t),localStorage.clear(),h()),u.classList.remove("difference--negative")||u.classList.remove("difference--positive"),u.innerHTML=""}()}),l.addEventListener("click",S),o.addEventListener("keyup",v),function(){if(0!==localStorage.length){for(let e=0;e<localStorage.length;e++){0===e&&(s=localStorage.key(e));const t=localStorage.key(e);let n=JSON.parse(localStorage.getItem(t));const r=n.weight,o=n.date;w(r,o,t),h()}E(),L(Math.round((JSON.parse(localStorage.getItem(localStorage.key(localStorage.length-1))).weight-JSON.parse(localStorage.getItem(s)).weight)/2*10)/10)}}();const p=e=>[...e].forEach(e=>e.remove());function S(){if(d=(new Date).getTime(),e.weight=2*o.value,e.date=(new Date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),o.value<1||o.value>170)alert("Please enter a value (in kg) between 1 and 170");else if(isNaN(o.value))alert("Entry must only include numbers");else{if(t.push(2*o.value),localStorage.setItem(d,JSON.stringify(e)),1===localStorage.length&&E(),o.value>2*f||o.value<f/2)return alert("You have gained or lost more than 2 times your starting weight! You may want to clear previous data"),void localStorage.removeItem(d);!function(){1===localStorage.length&&(s=localStorage.key(0));let e=d,t=JSON.parse(localStorage.getItem(e));const n=t.weight,r=t.date;w(n,r,e),L(k())}()}}function y(e){localStorage.removeItem(e);let t=document.getElementById(e);b(t.parentElement,0),function(e){setTimeout(function(){e.parentElement.remove()},450),d=localStorage.key(localStorage.length-1)}(t),i.innerHTML=localStorage.length,E(),L(k()),h()}function h(){1===localStorage.length?c.classList.add("plural"):c.classList.remove("plural")}function b(e,t){setTimeout(function(){e.style.height=t/2*m+"px"},0),console.log("3. Height delay")}function L(e){console.log("passed in diff from func is: "+e),e>0&&(u.innerHTML="+"+e),e<0&&(u.innerHTML=e),0===e&&(u.innerHTML="0"),g=e}function w(e,t,n){let r=document.createElement("div"),o=document.createElement("span");r.classList.add("graph__single-bar"),r.setAttribute("id","span"),r.appendChild(o),document.getElementById("chart-wrapper").appendChild(r),b(r,e),o.innerHTML="<strong>"+e/2+"kg</strong><br>"+t+'<button id="delete-btn">remove</button>',h(),i.innerHTML=localStorage.length,o.setAttribute("id",n),function(e,t,n,r){e.addEventListener("mouseover",function(){t.classList.add("graph__single-bar--visible")}),e.addEventListener("mouseleave",function(){t.classList.remove("graph__single-bar--visible")}),n.addEventListener("click",function(){console.log("1. clicked and key was: "+r),y(r)})}(r,o,document.getElementById(n),n)}function k(){if(0!==localStorage.length){let e=JSON.parse(localStorage.getItem(d)).weight/2-JSON.parse(localStorage.getItem(s)).weight/2;return e>0&&(u.classList.add("difference--positive"),u.classList.remove("difference--negative")),e<0&&(u.classList.add("difference--negative"),u.classList.remove("difference--positive")),0===e&&(u.classList.remove("difference--negative")||u.classList.remove("difference--positive")),Math.round(10*e)/10}}function E(){s=localStorage.key(0),f=JSON.parse(localStorage.getItem(s)).weight/2,m=175/f}}}}]);